<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="board">

	<!-- 조회수 올리기 (긁일기) -->
	<update id="updateHit" parameterType="int">
	
	<![CDATA[
	update board
	set hit = hit+1
	where no = #{no}
	
	
	]]>
	
	
	
	
	</update>


	<!-- 1개정보가져오기 -->

    <select id="selectBoard" parameterType="int" resultType="com.javaex.vo.BoardVo">
    
    <![CDATA[
    	select b.no,
       b.title,
       b.content,
       b.hit,
       b.reg_date as regDate,
       b.user_no as userNo,
       u.name
		from board b, users u
		where b.user_no = u.no
		and b.no = #{no}
    	
    
    ]]>
    </select>

	<!-- 리스트 가져오기 -->
	
	<select id="selectList" resultType="com.javaex.vo.BoardVo">
	
	 <![CDATA[
    	select b.no,
       b.title,
       b.content,
       b.hit,
       b.reg_date as regDate,
       b.user_no as userNo,
       u.name
		from board b, users u
		where b.user_no = u.no
		
    	
    
    ]]>
    </select>
	
	<!-- delete 실행 -->
	
	<delete id="delete" parameterType="com.javaex.vo.BoardVo">
		<![CDATA[
		
				delete from board
				where no = #{no}
	
	
	
		]]>
	</delete>
	
	
	<!-- insert 실행 -->
	
	<insert  id="write" parameterType="com.javaex.vo.BoardVo">
	
	<![CDATA[
	
	insert into board
	values(SEQ_BOARD_NO.nextval,#{title},#{content},0,sysdate,#{userNo})
	
	
	]]>
	
	</insert> 
	




</mapper>